<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src = "./jquery-3.6.4.min.js"></script>

    
</head>
<body>
    <!-- ì˜í™”ì§„í¥ìœ„ì›íšŒ APIë¥¼ ê°€ì ¸ì™€ì„œ
    ì¼ì¼ ë°•ìŠ¤ì˜¤í”¼ìŠ¤ ì˜í™” TOP10ì˜
    ìˆœìœ„, ì˜í™”ì´ë¦„, ê°œë´‰ì¼ ì¶œë ¥ -->
    <button onclick="getAPI()">ìˆœìœ„ë³´ê¸° ðŸ™„</button>

    <script>
        // ajax -> ë¹„ë™ê¸° í†µì‹  ë°©ë²•

        // jì¿¼ë¦¬ì— ì ‘ê·¼ -> $.
        // ajax ë©”ì†Œë“œ ì‚¬ìš© -> ajax()
        // ë°ì´í„°ëŠ” JSON í˜•íƒœë¡œ -> {key:value, ~}

        let movieURL = 'http://kobis.or.kr/kobisopenapi/webservice/rest/boxoffice/searchDailyBoxOfficeList.json?key=f5eef3421c602c6cb7ea224104795888&targetDt=20230411';

        const getAPI = () => {
            $.ajax({
                // ì–´ë””ëž‘ í†µì‹ í•  ê±´ì§€
                url : movieURL,

                // ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ í†µì‹ í•  ê±´ì§€
                type : 'get', 
                // í†µì‹  ì„±ê³µ ì‹œ
                success : (response)=>{
                    console.log(response.boxOfficeResult.dailyBoxOfficeList[0].movieNm);
                    let movieList = response.boxOfficeResult.dailyBoxOfficeList;
                    // console.log(movieList[0].rank);
                    // console.log(movieList[0].movieNm);
                    // console.log(movieList[0].openDt);

                    for(let i = 0; i< movieList.length; i++){
                        console.log(movieList[i].rank, movieList[i].movieNm, movieList[i].openDt);
                    }
                }
            })
        }


    </script>
    
</body>
</html>